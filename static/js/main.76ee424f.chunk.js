(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{17:function(e){e.exports=JSON.parse('{"a":{"cases":{"color":"hsl(0, 100%, 50%)","multiplier":300},"recovered":{"color":"hsl(89, 76%, 48%)","multiplier":350},"deaths":{"color":"hsl(349, 85%, 43%)","multiplier":1200}}}')},214:function(e,t,c){},216:function(e,t,c){},217:function(e,t,c){},222:function(e,t,c){},223:function(e,t,c){},224:function(e,t,c){},227:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(9),o=c.n(a),n=c(14),r=c(98),l=c(15),i="set-country-list",d="set-selected-country-info",u="set-cases-in-last-four-months",j=function(e,t){var c=t.type,s=t.payload;switch(c){case i:return Object(l.a)(Object(l.a)({},e),{},{countryList:s.countryList});case d:return Object(l.a)(Object(l.a)({},e),{},{selectedCountryStats:s.selectedCountryStats});case u:return Object(l.a)(Object(l.a)({},e),{},{casesInLastFourMonths:s.casesInLastFourMonths});default:return e}};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(s.useReducer)(j,{countryList:[],selectedCountryStats:{},casesInLastFourMonths:[]}),c=Object(n.a)(t,2),a=c[0],o=c[1];return Object(s.useEffect)((function(){return fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){return o({type:i,payload:{countryList:e.map((function(e){return{name:e.country,cases:e.cases,deaths:e.deaths,recovered:e.recovered,countryInfo:e.countryInfo}}))}})}))}),[]),Object(s.useEffect)((function(){var t="Global"===e?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(e);return e&&fetch(t).then((function(e){return e.json()})).then((function(e){var t=e.cases,c=e.recovered,s=e.deaths,a=e.todayCases,n=e.todayRecovered,r=e.todayDeaths,l=e.countryInfo;return o({type:d,payload:{selectedCountryStats:{cases:t,recovered:c,deaths:s,todayCases:a,todayRecovered:n,todayDeaths:r,countryInfo:l}}})}))}),[e]),Object(s.useEffect)((function(){return fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then((function(e){return e.json()})).then((function(e){return o({type:u,payload:{casesInLastFourMonths:e}})}))}),[]),a},b=c(13);function v(e){return null===e||void 0===e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return Object(b.a)(e).sort((function(e,c){return c[t]-e[t]}))}var p=c(17),O=(c(214),c(3));var y=function(e){var t=e.dataType,c=e.className,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",c=[];return e[t]&&Object.keys(e[t]).forEach((function(s){if(e[t][s]){var a={x:s,y:e[t][s]};c.push(a)}})),c}(h().casesInLastFourMonths,t);return Object(O.jsxs)("div",{className:c,children:[Object(O.jsxs)("h3",{className:"graph-title",children:["Graph of global ",t," in last 4 months"]}),Object(O.jsx)(r.a,{data:{datasets:[{data:s,label:"",borderColor:p.a[t].color,backgroundColor:p.a[t].color,pointHoverBackgroundColor:"red"}]},options:{plugins:{legend:{display:!1}},tooltips:{enabled:!1,intersect:!1,mode:"index"}}})]})},x=c(255),m=c(266),g=c(267),C=c(256);c(216);var N=function(e){var t=e.center,c=e.zoom,s=e.dataType,a=e.countryList;return Object(O.jsx)("div",{className:"map",children:Object(O.jsxs)(x.a,{center:t,zoom:c,children:[Object(O.jsx)(m.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),a.length&&a.map((function(e,t){return Object(O.jsx)(g.a,{center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,color:p.a[s].color,fillColor:p.a[s].color,radius:Math.sqrt(e[s])*p.a[s].multiplier,children:Object(O.jsx)(C.a,{children:Object(O.jsxs)("div",{className:"info-popup",children:[Object(O.jsx)("div",{className:"info-popup-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(O.jsx)("div",{className:"info-popup-name",children:Object(O.jsx)("b",{children:e.name})}),Object(O.jsxs)("div",{className:"info-popup-cases",children:["Cases: ",v(e.cases)]}),Object(O.jsxs)("div",{className:"info-popup-recovered",children:["Recovered: ",v(e.recovered)]}),Object(O.jsxs)("div",{className:"info-popup-deaths",children:["Deaths: ",v(e.deaths)]})]})})},t)}))]})})};c(217);var I=function(e){var t=e.countryList,c=e.dataType;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h3",{className:"table-title",children:["Countries with the most ",c]}),Object(O.jsx)("div",{className:"table",children:Object(O.jsx)("table",{children:Object(O.jsx)("tbody",{children:t&&f(t,c).map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{children:[t+1,". ",e.name]}),Object(O.jsx)("td",{children:Object(O.jsx)("b",{children:v(e[c])})})]},t)}))})})})]})},L=c(257),k=c(261),S=c(262);var T=function(e){var t=e.title,c=e.cases,s=e.overallCases,a=e.onClick,o=e.color,n=e.active;return Object(O.jsx)(L.a,{className:"info-box",onClick:a,children:Object(O.jsxs)(k.a,{className:"info-box-title",style:{borderTop:n&&"10px solid ".concat(p.a[t.toLowerCase()].color)},children:[Object(O.jsx)(S.a,{color:"textSecondary",children:t}),Object(O.jsx)("h2",{className:"info-box-cases",style:{color:o,marginBottom:"8px"},children:c}),Object(O.jsxs)(S.a,{className:"info-box-overall-cases",color:"textSecondary",children:[s," Total"]})]})})},R=c(263),F=c(264),M=c(265);c(222),c(223),c(224),c(225);var w=function(){var e=Object(s.useState)("Global"),t=Object(n.a)(e,2),c=t[0],a=t[1],o=Object(s.useState)([10,10]),r=Object(n.a)(o,2),l=r[0],i=r[1],d=Object(s.useState)(2),u=Object(n.a)(d,2),j=u[0],b=u[1],f=Object(s.useState)("cases"),x=Object(n.a)(f,2),m=x[0],g=x[1],C=h(c),S=C.countryList,w=C.selectedCountryStats;return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsxs)("div",{className:"left-segment",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("h1",{children:"COVID-19 TRACKER"}),Object(O.jsx)(R.a,{className:"drop-down",children:Object(O.jsxs)(F.a,{value:c,variant:"outlined",onChange:function(e){a(e.target.value),w.countryInfo&&i([w.countryInfo.lat,w.countryInfo.long]),b(4)},children:[Object(O.jsx)(M.a,{value:"Global",children:"Global"}),S.map((function(e,t){return Object(O.jsx)(M.a,{value:e.name,children:e.name},t)}))]})})]}),Object(O.jsx)("div",{className:"stats",children:w&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{title:"Cases",active:"cases"===m,cases:v(null===w||void 0===w?void 0:w.todayCases),overallCases:v(null===w||void 0===w?void 0:w.cases),onClick:function(){return g("cases")},color:p.a.cases.color}),Object(O.jsx)(T,{title:"Recovered",active:"recovered"===m,cases:v(null===w||void 0===w?void 0:w.todayRecovered),overallCases:v(null===w||void 0===w?void 0:w.recovered),onClick:function(){return g("recovered")},color:p.a.recovered.color}),Object(O.jsx)(T,{title:"Deaths",active:"deaths"===m,cases:v(null===w||void 0===w?void 0:w.todayDeaths),overallCases:v(null===w||void 0===w?void 0:w.deaths),onClick:function(){return g("deaths")},color:p.a.deaths.color})]})}),Object(O.jsx)(N,{center:l,zoom:j,dataType:m,countryList:S})]}),Object(O.jsx)(L.a,{className:"right-segment",children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)(I,{countryList:S,dataType:m}),Object(O.jsx)(y,{dataType:m,className:"graph"})]})})]})};o.a.render(Object(O.jsx)(w,{}),document.getElementById("covid-19-tracker"))}},[[227,1,2]]]);
//# sourceMappingURL=main.76ee424f.chunk.js.map
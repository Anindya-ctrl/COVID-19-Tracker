(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"a":{"cases":{"color":"hsl(0, 100%, 50%)","multiplier":300},"recovered":{"color":"hsl(89, 76%, 48%)","multiplier":350},"deaths":{"color":"hsl(349, 85%, 43%)","multiplier":1200}}}')},214:function(e,t,c){},216:function(e,t,c){},217:function(e,t,c){},222:function(e,t,c){},223:function(e,t,c){},224:function(e,t,c){},227:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(9),n=c.n(a),o=c(14),r=c(98),l=c(15),i="set-country-list",d="set-selected-country-info",u="set-cases-in-last-four-months",j=function(e,t){var c=t.type,s=t.payload;switch(c){case i:return Object(l.a)(Object(l.a)({},e),{},{countryList:s.countryList});case d:return Object(l.a)(Object(l.a)({},e),{},{selectedCountryStats:s.selectedCountryStats});case u:return Object(l.a)(Object(l.a)({},e),{},{casesInLastFourMonths:s.casesInLastFourMonths});default:return e}};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(s.useReducer)(j,{countryList:[],selectedCountryStats:{},casesInLastFourMonths:[]}),c=Object(o.a)(t,2),a=c[0],n=c[1];return Object(s.useEffect)((function(){return fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){return n({type:i,payload:{countryList:e.map((function(e){return{name:e.country,cases:e.cases,deaths:e.deaths,recovered:e.recovered,countryInfo:e.countryInfo}}))}})}))}),[]),Object(s.useEffect)((function(){var t="Global"===e?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(e);return e&&fetch(t).then((function(e){return e.json()})).then((function(e){var t=e.cases,c=e.recovered,s=e.deaths,a=e.todayCases,o=e.todayRecovered,r=e.todayDeaths,l=e.countryInfo;return n({type:d,payload:{selectedCountryStats:{cases:t,recovered:c,deaths:s,todayCases:a,todayRecovered:o,todayDeaths:r,countryInfo:l}}})}))}),[e]),Object(s.useEffect)((function(){return fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then((function(e){return e.json()})).then((function(e){return n({type:u,payload:{casesInLastFourMonths:e}})}))}),[]),a},b=c(13);function v(e){return null===e||void 0===e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return Object(b.a)(e).sort((function(e,c){return c[t]-e[t]}))}var p=c(18),O=(c(214),c(3));var y=function(e){var t=e.dataType,c=e.className,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",c=[];return e[t]&&Object.keys(e[t]).forEach((function(s){if(e[t][s]){var a={x:s,y:e[t][s]};c.push(a)}})),c}(h().casesInLastFourMonths,t);return Object(O.jsxs)("div",{className:c,children:[Object(O.jsxs)("h3",{className:"graph-title",children:["Graph of global ",t," in last 4 months"]}),Object(O.jsx)(r.a,{data:{datasets:[{data:s,label:"",borderColor:p.a[t].color,backgroundColor:p.a[t].color,pointHoverBackgroundColor:"red"}]},options:{plugins:{legend:{display:!1}},tooltips:{enabled:!1,intersect:!1,mode:"index"}}})]})},m=c(255),x=c(256),g=c(267),C=c(268),N=c(257);c(216);var I=function(e){var t=e.dataType,c=e.countryList,s=e.mapCenter,a=e.mapZoom;function n(e){var t=e.newCenter,c=e.newZoom,s=Object(m.a)();return s.setView(t,s.getZoom()),s.setView(t,c),null}return Object(O.jsx)("div",{className:"map",children:Object(O.jsxs)(x.a,{center:s,zoom:a,children:[Object(O.jsx)(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),c.length&&c.map((function(e,c){return Object(O.jsx)(C.a,{pathOptions:{color:p.a[t].color,fillColor:p.a[t].color},center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,radius:Math.sqrt(e[t])*p.a[t].multiplier,children:Object(O.jsx)(N.a,{children:Object(O.jsxs)("div",{className:"info-popup",children:[Object(O.jsx)("div",{className:"info-popup-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(O.jsx)("div",{className:"info-popup-name",children:Object(O.jsx)("b",{children:e.name})}),Object(O.jsxs)("div",{className:"info-popup-cases",children:["Cases: ",v(e.cases)]}),Object(O.jsxs)("div",{className:"info-popup-recovered",children:["Recovered: ",v(e.recovered)]}),Object(O.jsxs)("div",{className:"info-popup-deaths",children:["Deaths: ",v(e.deaths)]})]})})},c)})),Object(O.jsx)(n,{newCenter:s,newZoom:a})]})})};c(217);var L=function(e){var t=e.countryList,c=e.dataType;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h3",{className:"table-title",children:["Countries with the most ",c]}),Object(O.jsx)("div",{className:"table",children:Object(O.jsx)("table",{children:Object(O.jsx)("tbody",{children:t&&f(t,c).map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{children:[t+1,". ",e.name]}),Object(O.jsx)("td",{children:Object(O.jsx)("b",{children:v(e[c])})})]},t)}))})})})]})},k=c(258),S=c(262),w=c(263);var T=function(e){var t=e.title,c=e.cases,s=e.overallCases,a=e.onClick,n=e.color,o=e.active;return Object(O.jsx)(k.a,{className:"info-box",onClick:a,children:Object(O.jsxs)(S.a,{className:"info-box-title",style:{borderTop:o&&"10px solid ".concat(p.a[t.toLowerCase()].color)},children:[Object(O.jsx)(w.a,{color:"textSecondary",children:t}),Object(O.jsx)("h2",{className:"info-box-cases",style:{color:n,marginBottom:"8px"},children:c}),Object(O.jsxs)(w.a,{className:"info-box-overall-cases",color:"textSecondary",children:[s," Total"]})]})})},R=c(264),E=c(265),F=c(266);c(222),c(223),c(224),c(225);var M=function(){var e=Object(s.useState)("Global"),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)("cases"),r=Object(o.a)(n,2),l=r[0],i=r[1],d=Object(s.useState)([10,10]),u=Object(o.a)(d,2),j=u[0],b=u[1],f=Object(s.useState)(2),m=Object(o.a)(f,2),x=m[0],g=m[1],C=h(c),N=C.countryList,w=C.selectedCountryStats;return Object(s.useEffect)((function(){w.countryInfo&&b((function(){return[w.countryInfo.lat,w.countryInfo.long]}))}),[w]),Object(O.jsxs)("div",{className:"app",children:[Object(O.jsxs)("div",{className:"left-segment",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("h1",{children:"COVID-19 TRACKER"}),Object(O.jsx)(R.a,{className:"drop-down",children:Object(O.jsxs)(E.a,{value:c,variant:"outlined",onChange:function(e){a(e.target.value),g(4)},children:[Object(O.jsx)(F.a,{value:"Global",children:"Global"}),N.map((function(e,t){return Object(O.jsx)(F.a,{value:e.name,children:e.name},t)}))]})})]}),Object(O.jsx)("div",{className:"stats",children:w&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{title:"Cases",active:"cases"===l,cases:v(null===w||void 0===w?void 0:w.todayCases),overallCases:v(null===w||void 0===w?void 0:w.cases),onClick:function(){return i("cases")},color:p.a.cases.color}),Object(O.jsx)(T,{title:"Recovered",active:"recovered"===l,cases:v(null===w||void 0===w?void 0:w.todayRecovered),overallCases:v(null===w||void 0===w?void 0:w.recovered),onClick:function(){return i("recovered")},color:p.a.recovered.color}),Object(O.jsx)(T,{title:"Deaths",active:"deaths"===l,cases:v(null===w||void 0===w?void 0:w.todayDeaths),overallCases:v(null===w||void 0===w?void 0:w.deaths),onClick:function(){return i("deaths")},color:p.a.deaths.color})]})}),Object(O.jsx)(I,{mapCenter:j,mapZoom:x,dataType:l,countryList:N})]}),Object(O.jsx)(k.a,{className:"right-segment",children:Object(O.jsxs)(S.a,{children:[Object(O.jsx)(L,{countryList:N,dataType:l}),Object(O.jsx)(y,{dataType:l,className:"graph"})]})})]})};n.a.render(Object(O.jsx)(M,{}),document.getElementById("covid-19-tracker"))}},[[227,1,2]]]);
//# sourceMappingURL=main.9c09f207.chunk.js.map